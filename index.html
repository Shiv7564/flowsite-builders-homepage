<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowSite Builders — Your website, built in minutes — not months.</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'flow-blue': '#10b981', // Teal/Green accent for confidence and speed
                        'flow-dark': '#1f2937',
                    }
                }
            }
        }

        // ===================================================
        // JAVASCRIPT LOGIC
        // ===================================================
        
        // 1. Mobile Menu Toggle Logic
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // 2. Smooth Scroll and Menu Close (works on mobile taps)
        document.addEventListener('DOMContentLoaded', () => {
            const links = document.querySelectorAll('a[href^="#"]');
            links.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    
                    // Smooth scroll to target section
                    const targetId = this.getAttribute('href');
                    document.querySelector(targetId).scrollIntoView({
                        behavior: 'smooth'
                    });

                    // Hide mobile menu after clicking a link (on mobile)
                    const menu = document.getElementById('mobile-menu');
                    if (!menu.classList.contains('hidden')) {
                        menu.classList.add('hidden');
                    }
                });
            });

            // Initial setup for the mobile menu state
            document.getElementById('mobile-menu').classList.add('hidden');
        });


        // 3. GEMINI API FUNCTIONALITY: AI Content Idea Generator
        const API_MODEL = 'gemini-2.5-flash-preview-09-2025';
        const apiKey = ""; // Canvas environment will provide this

        // Function to implement exponential backoff
        const callApiWithBackoff = async (url, options, maxRetries = 5) => {
            for (let attempt = 0; attempt < maxRetries; attempt++) {
                try {
                    const response = await fetch(url, options);
                    if (response.status === 429) {
                        throw new Error('Rate limit exceeded');
                    }
                    if (!response.ok) {
                        // Throw specific error for debugging
                        const errorBody = await response.text();
                        throw new Error(`HTTP error! Status: ${response.status}. Response: ${errorBody}`);
                    }
                    return response.json();
                } catch (error) {
                    if (attempt === maxRetries - 1) {
                        console.error("API call failed after max retries:", error);
                        throw error;
                    }
                    const delay = Math.pow(2, attempt) * 1000 + Math.random() * 1000;
                    // console.log(`Retrying API call in ${delay / 1000}s...`); // Debugging line
                    await new Promise(resolve => setTimeout(resolve, delay));
                }
            }
        };

        async function generateContentIdea() {
            const businessType = document.getElementById('ai-business-type').value.trim();
            const serviceArea = document.getElementById('ai-service-area').value.trim();
            const resultDiv = document.getElementById('ai-result-content');
            const generateButton = document.getElementById('ai-generate-button');
            const loadingIndicator = document.getElementById('ai-loading-indicator');
            
            if (!businessType) {
                resultDiv.innerHTML = '<p class="text-red-500">Please enter your type of business.</p>';
                return;
            }

            // Show loading state and disable button
            generateButton.disabled = true;
            generateButton.classList.add('opacity-50');
            loadingIndicator.classList.remove('hidden');
            resultDiv.innerHTML = '<p class="text-gray-500">Generating unique content idea...</p>';
            
            // System instruction for the content writer persona
            const systemPrompt = "Act as a professional, friendly, and expert web content writer specializing in local SEO for small service businesses. Your goal is to generate a compelling, concise (100-word maximum) 'About Us' or 'Service Summary' paragraph tailored for a high-converting website. The tone must be clear, confident, and professional. Focus on speed, reliability, and local service. Do not use markdown formatting (like bolding or lists).";
            
            const areaClause = serviceArea ? `in the ${serviceArea} area` : 'for the local community';
            const userQuery = `Generate a website content summary paragraph for a ${businessType} business ${areaClause}.`;

            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${API_MODEL}:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
                // Enable search grounding to base the response on up-to-date web information
                tools: [{ "google_search": {} }],
            };

            try {
                const result = await callApiWithBackoff(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                // Extract text and sources
                const candidate = result.candidates?.[0];
                let text = 'Sorry, I couldn\'t generate content this time.';
                let sources = [];
                
                if (candidate && candidate.content?.parts?.[0]?.text) {
                    text = candidate.content.parts[0].text;

                    const groundingMetadata = candidate.groundingMetadata;
                    if (groundingMetadata && groundingMetadata.groundingAttributions) {
                        sources = groundingMetadata.groundingAttributions
                            .map(attribution => ({
                                uri: attribution.web?.uri,
                                title: attribution.web?.title,
                            }))
                            .filter(source => source.uri && source.title);
                    }
                }

                // Display results
                let htmlContent = `<p class="text-lg text-gray-700 leading-relaxed italic mb-4">${text}</p>`;

                if (sources.length > 0) {
                    htmlContent += '<div class="mt-4 text-xs text-gray-500 text-left">';
                    htmlContent += 'Source(s) used for grounding idea (Max 3 shown):';
                    sources.slice(0, 3).forEach((source, index) => {
                        htmlContent += `<a href="${source.uri}" target="_blank" class="block hover:underline text-flow-blue ml-2">${index + 1}. ${source.title}</a>`;
                    });
                    htmlContent += '</div>';
                }

                resultDiv.innerHTML = htmlContent;

            } catch (error) {
                console.error("Gemini API call failed:", error);
                // Display user-friendly error message
                resultDiv.innerHTML = `<p class="text-red-500">Error generating content idea. Please check your inputs and try again later. (Error: ${error.message.substring(0, 50)}...)</p>`;
            } finally {
                // Re-enable button and hide loading
                generateButton.disabled = false;
                generateButton.classList.remove('opacity-50');
                loadingIndicator.classList.add('hidden');
            }
        }
    </script>
</head>
<body class="bg-white text-gray-800">

    <!-- Header & Navigation -->
    <header class="sticky top-0 z-50 bg-white border-b border-gray-100 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-extrabold text-flow-dark tracking-tight">FlowSite<span class="text-flow-blue">Builders</span></a>
            
            <!-- Desktop CTAs -->
            <nav class="hidden md:flex space-x-6 items-center">
                <a href="#services" class="text-gray-600 hover:text-flow-blue transition duration-200">Services</a>
                <a href="#ai-tool" class="text-gray-600 hover:text-flow-blue transition duration-200">Content Idea ✨</a>
                <a href="#pricing" class="text-gray-600 hover:text-flow-blue transition duration-200">Pricing</a>
                <a href="#about" class="text-gray-600 hover:text-flow-blue transition duration-200">Meet Steve</a>
                <a href="#contact" class="px-5 py-2 text-sm font-semibold bg-flow-blue text-white rounded-lg shadow-md hover:bg-emerald-600 transition duration-300">
                    Get Your Website
                </a>
            </nav>

            <!-- Mobile Menu Button (Hamburger) -->
            <button class="md:hidden p-2 text-flow-dark rounded-md hover:bg-gray-100 transition duration-200" aria-label="Menu" onclick="toggleMobileMenu()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
            </button>
        </div>
        
        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg border-t border-gray-100 absolute w-full z-40 pb-4">
            <nav class="flex flex-col space-y-2 px-4 pt-2">
                <a href="#services" class="py-2 text-gray-600 hover:text-flow-blue border-b border-gray-50/50">Services</a>
                <a href="#ai-tool" class="py-2 text-gray-600 hover:text-flow-blue border-b border-gray-50/50">Content Idea ✨</a>
                <a href="#pricing" class="py-2 text-gray-600 hover:text-flow-blue border-b border-gray-50/50">Pricing</a>
                <a href="#about" class="py-2 text-gray-600 hover:text-flow-blue border-b border-gray-50/50">Meet Steve</a>
                <a href="#contact" class="mt-2 block w-full text-center py-2 text-sm font-semibold bg-flow-blue text-white rounded-lg hover:bg-emerald-600 transition duration-300">
                    Get Your Website
                </a>
            </nav>
        </div>
    </header>

    <main>
        
        <!-- Hero Section -->
        <section id="hero" class="pt-16 pb-24 bg-gray-50/70">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid md:grid-cols-12 gap-12 items-center">
                
                <!-- Text Content -->
                <div class="md:col-span-6 lg:col-span-7">
                    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight text-flow-dark mb-4">
                        Get a Stunning Website for Your Business — <span class="text-flow-blue">Starting at Just $199</span>
                    </h1>
                    <p class="text-xl text-gray-600 mb-8 max-w-lg">
                        We build fast, mobile-friendly websites that help you get more customers. No stress, no tech skills required.
                    </p>
                    
                    <!-- CTA Buttons -->
                    <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                        <a href="#contact" class="px-8 py-3 text-lg font-bold text-white bg-flow-blue rounded-xl shadow-xl shadow-flow-blue/40 hover:bg-emerald-600 transition duration-300 transform hover:scale-[1.02]">
                            Get Your Website
                        </a>
                        <a href="#contact" class="px-8 py-3 text-lg font-semibold text-flow-dark bg-white border-2 border-gray-200 rounded-xl shadow-md hover:bg-gray-50 transition duration-300">
                            Schedule a Free Call with Steve
                        </a>
                    </div>
                </div>

                <!-- Hero Image Placeholder -->
                <div class="md:col-span-6 lg:col-span-5 hidden md:block">
                    <!-- Premium image: modern business, tech, website creation, small business storefronts -->
                    <img src="https://placehold.co/800x600/10b981/ffffff?text=Fast+%26+Modern+Website" 
                         alt="A professional small business owner looking at a modern, fast website interface."
                         class="w-full h-auto object-cover rounded-2xl shadow-2xl ring-4 ring-flow-blue/20"
                         onerror="this.onerror=null; this.src='https://placehold.co/800x600/1f2937/ffffff?text=Website+Creation';"
                    />
                </div>
            </div>
        </section>

        <!-- Benefits Section -->
        <section id="benefits" class="py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl sm:text-4xl font-bold text-flow-dark mb-12">Why Work With FlowSite Builders?</h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-8">
                    
                    <!-- Benefit Card 1: Fast Delivery -->
                    <div class="p-6 bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition duration-300">
                        <div class="text-flow-blue mb-4 flex justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3 text-flow-dark">Fast Delivery</h3>
                        <p class="text-gray-600">Launch your website in less than 72 hours — guaranteed.</p>
                    </div>

                    <!-- Benefit Card 2: Affordable Pricing -->
                    <div class="p-6 bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition duration-300">
                        <div class="text-flow-blue mb-4 flex justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dollar-sign"><line x1="12" x2="12" y1="2" y2="22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3 text-flow-dark">Affordable Pricing</h3>
                        <p class="text-gray-600">Starts at just $199, perfect for small businesses.</p>
                    </div>

                    <!-- Benefit Card 3: Done-For-You Service -->
                    <div class="p-6 bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition duration-300">
                        <div class="text-flow-blue mb-4 flex justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-wrench"><path d="M.2 13a2.41 2.41 0 0 0 0 4.14L3.68 20.6l2.35-2.35a7 7 0 0 0-.25-10.74 7 7 0 0 0-10.74-.25L.2 13Z"/><path d="m21.72 2.37-2.35 2.35a7 7 0 0 0-10.74-.25 7 7 0 0 0-.25-10.74L.2 13a2.41 2.41 0 0 0 0 4.14L3.68 20.6l2.35-2.35a7 7 0 0 0-.25-10.74 7 7 0 0 0-10.74-.25L.2 13Z" transform="rotate(135 12 12)"/></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3 text-flow-dark">Done-For-You Service</h3>
                        <p class="text-gray-600">We write the content, set up the design, and handle everything.</p>
                    </div>

                    <!-- Benefit Card 4: 100% Mobile Friendly -->
                    <div class="p-6 bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition duration-300">
                        <div class="text-flow-blue mb-4 flex justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-smartphone"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3 text-flow-dark">100% Mobile Friendly</h3>
                        <p class="text-gray-600">Works perfectly on phones, tablets, and desktops.</p>
                    </div>
                    
                    <!-- NEW Benefit Card 5: 7-Day Guarantee -->
                    <div class="p-6 bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition duration-300">
                        <div class="text-flow-blue mb-4 flex justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shield-check"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/></svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-3 text-flow-dark">7-Day Guarantee</h3>
                        <p class="text-gray-600">Risk-free. Get a full refund if you're not satisfied within the first week.</p>
                    </div>

                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="py-20 bg-gray-50/70">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-flow-dark text-center mb-12">What You Get</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    
                    <!-- Service 1: Professional Website Design -->
                    <div class="flex p-6 bg-white rounded-xl shadow-md space-x-4 items-start">
                        <div class="p-3 bg-flow-blue/10 text-flow-blue rounded-full flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-grid"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="12" y2="12"/><line x1="12" x2="12" y1="3" y2="21"/></svg>
                        </div>
                        <div>
                            <h3 cla
